{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ar913\\\\Downloads\\\\programming-files\\\\React_folder\\\\verant\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport HomePage from \"./components/home_comp/js/home.js\";\nimport Sign from \"./components/sign_comp/js/sign.js\";\nimport Err from \"./components/err_comp/js/index.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [availableToken, setAvailableToken] = useState(true); // Initial value is true\n  const [isLoading, setIsLoading] = useState(true);\n  const newToken = new Date().getTime().toString(16);\n  function updateToken() {\n    window.localStorage.token = newToken;\n  }\n  async function signUser(username, token) {\n    try {\n      const fet = await fetch(\"http://localhost/verant_apis/token_checker_&_updater.php\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username: username,\n          token: token,\n          newToken: newToken\n        })\n      });\n      if (!fet.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n      const res = await fet.json();\n      if (res.message === \"valid quick login\") {\n        updateToken();\n        return true;\n      } else {\n        return false;\n      }\n    } catch (e) {\n      console.error(\"Error during token validation:\", e);\n      return false;\n    }\n  }\n  useEffect(() => {\n    const username = window.localStorage[\"username\"];\n    const token = window.localStorage[\"token\"];\n    if (username && token) {\n      signUser(username, token).then(res => {\n        if (!res) {\n          // Clear invalid token\n          window.localStorage.removeItem(\"username\");\n          window.localStorage.removeItem(\"token\");\n        }\n        setAvailableToken(res);\n      }).finally(() => {\n        setIsLoading(false);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: availableToken ? /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 51\n        }, this) : /*#__PURE__*/_jsxDEV(Sign, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 66\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Err, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"GP5YbOe3aNMzLzCeNoVeBarE1PI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["BrowserRouter","Routes","Route","useEffect","useState","HomePage","Sign","Err","jsxDEV","_jsxDEV","App","_s","availableToken","setAvailableToken","isLoading","setIsLoading","newToken","Date","getTime","toString","updateToken","window","localStorage","token","signUser","username","fet","fetch","method","headers","body","JSON","stringify","ok","Error","res","json","message","e","console","error","then","removeItem","finally","children","fileName","_jsxFileName","lineNumber","columnNumber","path","element","_c","$RefreshReg$"],"sources":["C:/Users/ar913/Downloads/programming-files/React_folder/verant/src/App.js"],"sourcesContent":["import { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport HomePage from \"./components/home_comp/js/home.js\";\nimport Sign from \"./components/sign_comp/js/sign.js\";\nimport Err from \"./components/err_comp/js/index.js\";\n\nfunction App() {\n  const [availableToken, setAvailableToken] = useState(true); // Initial value is true\n  const [isLoading, setIsLoading] = useState(true);\n\n  const newToken = new Date().getTime().toString(16);\n\n  function updateToken() {\n    window.localStorage.token = newToken;\n  }\n\n  async function signUser(username, token) {\n    try {\n      const fet = await fetch(\n        \"http://localhost/verant_apis/token_checker_&_updater.php\",\n        {\n          method: \"POST\",\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify({ username: username, token: token, newToken: newToken }),\n        }\n      );\n      if (!fet.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n      const res = await fet.json();\n      if (res.message === \"valid quick login\") {\n        updateToken();\n        return true;\n      } else {\n        return false;\n      }\n    } catch (e) {\n      console.error(\"Error during token validation:\", e);\n      return false;\n    }\n  }\n\n  useEffect(() => {\n    const username = window.localStorage[\"username\"];\n    const token = window.localStorage[\"token\"];\n\n    if (username && token) {\n      signUser(username, token)\n        .then((res) => {\n          if (!res) {\n            // Clear invalid token\n            window.localStorage.removeItem(\"username\");\n            window.localStorage.removeItem(\"token\");\n          }\n          setAvailableToken(res);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={availableToken ? <HomePage /> : <Sign />} />\n        <Route path=\"*\" element={<Err />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}